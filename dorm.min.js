(function(l,g){try{l="[object process]"===Object.prototype.toString.call(global.process)}catch(b){}var m=l?global:window,n=!l&&document?document.documentElement:g,p={desktop:g,mobile:g,phone:g,tablet:g,tv:g,console:g,bot:g},h=function(b){b&&this.init({},n)};h.prototype.init=function(b,a){b=this.assign({prefix:"dorm",classes:!0,useragent:!l&&m.navigator?m.navigator.userAgent:null},this.getAttribute(),this.getOptions(),this.getOptions(b));a=this.parse(b.useragent,b);for(var c in p)!1===b[c]||b[c]===
g?a[c]=g:"string"===typeof b[c]&&(a[c]=a[b[c]]);for(var d in a)!0===a[d]&&void 0!==p[d]&&(!l&&m.location&&(c=b[d+"redirect"])&&m.location.replace(c),(c=b[d+"callback"])&&"function"===typeof c&&c(a,b));if(n&&b.classes){d=this.trim(n.className);for(var e in a)a[e]!==g&&(d+=" "+(b.prefix?b.prefix+"-":"")+(a[e]?"":"not-")+("os"===e?a[e]:e));n.className=this.trim(d)}return a};h.prototype.parse=function(b,a,c){b="string"===typeof b?this.trim(b):g;c={};if(b){var d,e,f,k;a=function(a){return(new RegExp(a,
"i")).test(b)};a("car(.*?)sys|func(.*?)titan|nintendo|playstation|sony(.*?)ps|wii|xbox")?c.console=k=!0:a("aftb|(apple|google|hbb|internet.|net|pov_|power|smart|sonyd|web)(.*?)tv|boxee|ce-html|dlink(.*?)dsm|dlnadoc|dongle|espial|kylo|loewe|net(box|cast)|roku|thom|tube|tv |viera")?c.tv=k=!0:a("anonym|bot|cisco|crawl|gr(a|u)b|http|search|seek|spider|worm")&&(c.bot=!0);a("ios|ip(ad|hone|od)")?(d="ios",k||(a("pad")?f=!0:e=!0)):a("android|kindle|silk")?k?a("android")&&(d="android"):(d="android",a("mobile|opera (mini|mobi)|(xl|xm)\\d{2}\\D")&&
!a("Odys(.*?)(space|xpress)|allview(.*?)(speed|city)|kobo|msi enjoy|nabi|nook|note|pocketbook|t-hub|xelio")&&!a("gt-p\\d{2}|sc-\\d{2}\\D")||a("sdk b")?e=!0:f=!0):a("blackberry|bb10|rim(?!ent)")?(d="blackberry",k||(a("tablet")?f=!0:e=!0)):a("\\((mobile|tablet);")&&a("; rv:")?(d="foxos",k||(a("tablet")?f=!0:e=!0)):a("os\\/2|win")&&!a("darwin")?(d="windows",k||(a("amoi|bada|jasmine|maemo|meego|nokia\\D\\d{2}|palm|pocket|sailfish|series.[10-90]|symb")?e=!0:a("phone|wpdesktop")?e=!0:a("tablet")||a("touch")&&
a("iemobile")?f=!0:a("mobi")&&(e=!0))):a("darwin|mac|os[ _-]?x")?d="mac":(k||!a("amoi|bada|jasmine|maemo|meego|nokia\\D\\d{2}|palm|pocket|sailfish|series.[10-90]|symb")&&!a("midp|mobi|puffin")||(e=!0),a("bada|\\D{3}bsd|hp(.*?)ux|(ir|un)ix|linux|maemo|meego|sailfish|sunos|tizen")&&(d="nix"));a("folio|pad|slate|tab(?!out|rec)")?(e=!1,f=!0):a("juc|(pad|voda)fone")&&(e=!0,f=!1);k||e||f||d&&"nix"!==d||!a("htc|mot[o -]|nokia|samsung|sonyeric|xda")||(e=!0);if("windows"===d&&a("(win|wow|x)64")||c.bot&&!a("mobi"))e=
f=!1;e||f||k?(c.mobile=!0,e?c.phone=e:f&&(c.tablet=f)):(a("mac|nix|win",d)||(d=g),c.desktop=!0);d&&(c.os=d)}for(var h in p)c[h]=!!c[h];return c};h.prototype.getAttribute=function(b){b={};if(n){var a=n.getAttribute("data-dorm");if(a)for(var a=this.trim(a).split(/\s*,\s*/),c=0;c<a.length;c++){var d=a[c].split(/\s*:\s*/),e=d[0].toLowerCase(),f=d[1];1<d.length&&("prefix"===e?f="false"!==f&&f?"true"===f?g:f:"":"classes"===e&&(f="true"===f),"null"===f&&(f=g),f!==g&&(b[e]=f))}}return b};h.prototype.getOptions=
function(b,a){b=b||(l?{}:m.dormOptions||{});a={};for(var c in b)a[c.toLowerCase()]=b[c];return a};h.prototype.assign=function(b){for(var a=1,c,d;a<arguments.length;++a)for(c in d=arguments[a],d)Object.prototype.hasOwnProperty.call(d,c)&&(b[c]=d[c]);return b};h.prototype.trim=function(b){return(b+"").replace(/^\s+|\s+$/g,"")};"function"===typeof define&&define.amd?define(function(){return new h}):"undefined"!==typeof module&&module.exports?module.exports=new h:!l&&(m.dorm=new h(!0))})(!1,null);